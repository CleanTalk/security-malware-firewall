<?php

namespace CleantalkSP\SpbctWP\Scanner\ScanningStagesLogModule;

class ScanningStagesRepository
{
    const WP_OPTION_NAME = 'spbc_scanning_stages_log';

    public static function saveStageData(StageInterface $stage_data_obj)
    {
        $log_data = get_option(self::WP_OPTION_NAME);

        $log_data[$stage_data_obj::STAGE_NAME] = $stage_data_obj->getFormatData($log_data);

        update_option(self::WP_OPTION_NAME, $log_data);
    }

    public static function resetAllData()
    {
        update_option(self::WP_OPTION_NAME, array());
    }
}
