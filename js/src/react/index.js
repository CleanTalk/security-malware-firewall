import React from 'react';
import ReactDOM from 'react-dom/client';
import SpbctPage from './components/SpbctPage';
import SpbctPageTabs from './components/SpbctPageTabs';
import SpbctAboutCT from './components/SpbctAboutCT';
import SpbctPageNetworkDashboard from './components/SpbctPageNetworkDashboard';

addEventListener('spbctPage', (event) => {
    const targetElement = document.getElementById('spbct-page--react');
    const aboutCTElement = document.getElementById('spbct-page-mob-about-ct--react');

    const data = JSON.parse(targetElement.dataset.data);

    if (targetElement !== null) {
        const root = ReactDOM.createRoot(targetElement);

        if (data.isNetworkAdminDashboard) {
            root.render(<SpbctPageNetworkDashboard data={data} />);
            return;
        }

        root.render(<SpbctPage data={data} />);
    }
    if (aboutCTElement !== null) {
        
    }
});

addEventListener('spbctPageTabs', (event) => {
    const targetElement = document.getElementById('spbct-page-tabs--react');
    const data = JSON.parse(targetElement.dataset.data);

    if (targetElement !== null) {
        const root = ReactDOM.createRoot(targetElement);
        root.render(<SpbctPageTabs data={data} />);
    }
});

addEventListener('spbctMobAboutCT', (event) => {
    const targetElement = document.getElementById('spbct-page-mob-about-ct--react');
    const data = JSON.parse(targetElement.dataset.data);

    if (targetElement !== null) {
        const root = ReactDOM.createRoot(targetElement);
        root.render(<SpbctAboutCT data={data} />);
    }
});
