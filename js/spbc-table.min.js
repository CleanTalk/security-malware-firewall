function spbc_tbl__bulk_actions__listen(){jQuery(".tbl-bulk_actions--apply").on("click",function(){if(spbc_bulk_action||confirm(spbcTable.warning_bulk)){var t=spbc_bulk_action||jQuery(this),a=(spbc_bulk_action=t).siblings("select").children()[t.siblings("select").first()[0].selectedIndex].value;t.parents(".tbl-root").find(".cb-select").is(":checked")?t.parents(".tbl-root").find(".cb-select:checked").first().parents("tr").find(".tbl-row_action--"+a)[0]?(t.parents(".tbl-root").find(".cb-select:checked").first().parents("tr").find(".tbl-row_action--"+a).click(),t.parents(".tbl-root").find(".cb-select:checked").first().prop("checked",!1)):(t.parents(".tbl-root").find(".cb-select:checked").first().prop("checked",!1),t.click()):spbc_bulk_action=null}})}function spbc_tbl__row_actions__listen(){jQuery(".tbl-row_action--ajax").on("click",function(){console.log("spbc_tbl__row_actions__listen click");var t=jQuery(this),a={action:"spbc_tbl-action--row",add_action:t.attr("row-action"),id:t.parent().attr("uid"),cols:t.parent().attr("cols_amount")},s={callback:spbc_tbl__row_actions__callback,spinner:t.parent().siblings(".tbl-preloader--tiny")};if(!spbc_bulk_action){var n=spbcTable["warning_"+t.attr("row-action")]||spbcTable.warning_default;confirm(n)&&spbc_sendAJAXRequest(a,s,t.parents("tr"))}spbc_bulk_action&&spbc_sendAJAXRequest(a,s,t.parents("tr"))})}function spbc_tbl__row_actions__callback(t,a,s,n){if(t.color&&n.css({background:t.background,color:t.color}),t.html&&(n.html(t.html),setTimeout(function(){n.fadeOut(300)},1500)),t.temp_html){var l=n.html();n.html(t.temp_html),setTimeout(function(){n.html(l).css({background:"inherit"}).find(".column-primary .row-actions .tbl-row_action--"+a.add_action).remove()},5e3)}spbc_bulk_action&&spbc_bulk_action.click()}function spbc_tbl__pagination__listen(){var data={action:"spbc_tbl-pagination"},params={callback:spbc_tbl__pagination__callback,notJson:!0};jQuery(".tbl-pagination--button").on("click",function(){jQuery(this).parents(".tbl-root").find(".tbl-pagination--button").attr("disabled","disabled")}),jQuery(".tbl-pagination--go").on("click",function(){var self=jQuery(this),obj=self.parents(".tbl-root");data.page=self.siblings(".tbl-pagination--curr_page").val(),data.args=eval("args_"+obj.attr("id")),params.spinner=self.siblings(".tbl-preloader--small"),spbc_sendAJAXRequest(data,params,obj)}),jQuery(".tbl-pagination--prev").on("click",function(){var self=jQuery(this),obj=self.parents(".tbl-root");data.page=self.parents(".tbl-pagination--wrapper").attr("prev_page"),data.args=eval("args_"+obj.attr("id")),params.spinner=self.siblings(".tbl-preloader--small"),spbc_sendAJAXRequest(data,params,obj)}),jQuery(".tbl-pagination--next").on("click",function(){var self=jQuery(this),obj=self.parents(".tbl-root");data.page=self.parents(".tbl-pagination--wrapper").attr("next_page"),data.args=eval("args_"+obj.attr("id")),params.spinner=self.siblings(".tbl-preloader--small"),spbc_sendAJAXRequest(data,params,obj)}),jQuery(".tbl-pagination--end").on("click",function(){var self=jQuery(this),obj=self.parents(".tbl-root");data.page=self.parents(".tbl-pagination--wrapper").attr("last_page"),data.args=eval("args_"+obj.attr("id")),params.spinner=self.siblings(".tbl-preloader--small"),spbc_sendAJAXRequest(data,params,obj)}),jQuery(".tbl-pagination--start").on("click",function(){var self=jQuery(this),obj=self.parents(".tbl-root");data.page=1,data.args=eval("args_"+obj.attr("id")),params.spinner=self.siblings(".tbl-preloader--small"),spbc_sendAJAXRequest(data,params,obj)})}function spbc_scanner__switch_table(t,a){t=jQuery(t);console.log(t.parent().attr("uid"));var s={action:"spbc_tbl-switch",table:a,test:"test",domain:t.parent().attr("uid")};spbc_sendAJAXRequest(s,{callback:spbc_tbl__pagination__callback,notJson:!0},t.parents(".tbl-root"))}function spbc_tbl__pagination__callback(t,a,s,n){jQuery(n).html(t).find(".tbl-pagination--button").removeAttr("disabled"),spbc_tbl__bulk_actions__listen(),spbc_tbl__row_actions__listen(),spbc_tbl__pagination__listen(),spbc_tbl__sort__listen(),spbcStartShowHide()}function spbc_tbl__sort__listen(){var params={callback:spbc_tbl__sort__callback,notJson:!0};jQuery(".tbl-column-sortable").on("click",function(){var self=jQuery(this),obj=self.parents(".tbl-root"),data={action:"spbc_tbl-sort",order_by:self.attr("id"),order:self.attr("sort_direction"),args:eval("args_"+obj.attr("id"))};spbc_sendAJAXRequest(data,params,obj)})}function spbc_tbl__sort__callback(t,a,s,n){jQuery(n).html(t),spbc_tbl__bulk_actions__listen(),spbc_tbl__row_actions__listen(),spbc_tbl__pagination__listen(),spbc_tbl__sort__listen()}spbc_bulk_action=null,jQuery(document).ready(function(){spbc_tbl__bulk_actions__listen(),spbc_tbl__row_actions__listen(),spbc_tbl__pagination__listen(),spbc_tbl__sort__listen()});
//# sourceMappingURL=spbc-table.min.js.map
