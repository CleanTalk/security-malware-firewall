{"version":3,"file":"spbc-settings_tab--backups.min.js","sources":["spbc-settings_tab--backups.js"],"sourcesContent":["/**\r\n * Backups\r\n * @param {DOMElement} obj\r\n * @return {void}\r\n */\r\nfunction spbcActionBackupsRollback(obj) { // eslint-disable-line no-unused-vars\r\n    if (!confirm('Are you sure want to rollback to this backup?')) {\r\n        return;\r\n    }\r\n    let self = jQuery(obj);\r\n    let data = {\r\n        action: 'spbc_rollback',\r\n        backup_id: self.parent().attr('uid'),\r\n        cols: self.parent().attr('cols_amount'),\r\n    };\r\n    let params = {\r\n        spinner: self.parent().siblings('.tbl-preloader--tiny'),\r\n        callback: function(result, data, params, obj) {\r\n            if (result.success) {\r\n                if (result.color) {\r\n                    obj.css({background: result.background, color: result.color});\r\n                }\r\n                if (result.html) {\r\n                    obj.html(result.html); setTimeout(function() {\r\n                        obj.fadeOut(300);\r\n                    }, 1500);\r\n                }\r\n            }\r\n        },\r\n    };\r\n\r\n    spbcSendAJAXRequest(data, params, self.parents('tr'));\r\n}\r\n\r\n/**\r\n * Delete\r\n * @param {DOMElement} obj\r\n * @return {void}\r\n */\r\nfunction spbcActionBackupsDelete(obj) { // eslint-disable-line no-unused-vars\r\n    if (!confirm('Are you sure want to delete this backup?')) {\r\n        return;\r\n    }\r\n    let self = jQuery(obj);\r\n    let data = {\r\n        action: 'spbc_backup__delete',\r\n        backup_id: self.parent().attr('uid'),\r\n        cols: self.parent().attr('cols_amount'),\r\n    };\r\n    let params = {\r\n        spinner: self.parent().siblings('.tbl-preloader--tiny'),\r\n        callback: function(result, data, params, obj) {\r\n            if (result.success) {\r\n                if (result.color) {\r\n                    obj.css({background: result.background, color: result.color});\r\n                }\r\n                if (result.html) {\r\n                    obj.html(result.html); setTimeout(function() {\r\n                        obj.fadeOut(300);\r\n                    }, 1500);\r\n                }\r\n            }\r\n        },\r\n    };\r\n\r\n    spbcSendAJAXRequest(data, params, self.parents('tr'));\r\n}\r\n\r\njQuery(document).ready(function() {\r\n    spbcTblSortListen();\r\n\r\n    // Preparing accordion\r\n    jQuery('#spbc_scan_accordion2').accordion({\r\n        header: 'h3',\r\n        heightStyle: 'content',\r\n        collapsible: true,\r\n        active: false,\r\n        beforeActivate: function(event, ui) {\r\n            // jQuery( \"#spbc_scan_accordion\" ).accordion( \"option\", \"active\", 2 );\r\n        },\r\n    });\r\n});\r\n"],"names":["spbcActionBackupsRollback","obj","data","params","confirm","action","backup_id","self","jQuery","parent","attr","cols","spinner","siblings","callback","result","success","color","css","background","html","setTimeout","fadeOut","spbcSendAJAXRequest","parents","spbcActionBackupsDelete","document","ready","spbcTblSortListen","accordion","header","heightStyle","collapsible","active","beforeActivate","event","ui"],"mappings":"AAKA,SAASA,0BAA0BC,GAC/B,IAIIC,EAKAC,EATCC,QAAQ,+CAA+C,IAIxDF,EAAO,CACPG,OAAQ,gBACRC,WAHAC,EAAOC,OAAOP,CAAG,GAGDQ,OAAO,EAAEC,KAAK,KAAK,EACnCC,KAAMJ,EAAKE,OAAO,EAAEC,KAAK,aAAa,CAC1C,EACIP,EAAS,CACTS,QAASL,EAAKE,OAAO,EAAEI,SAAS,sBAAsB,EACtDC,SAAU,SAASC,EAAQb,EAAMC,EAAQF,GACjCc,EAAOC,UACHD,EAAOE,OACPhB,EAAIiB,IAAI,CAACC,WAAYJ,EAAOI,WAAYF,MAAOF,EAAOE,KAAK,CAAC,EAE5DF,EAAOK,QACPnB,EAAImB,KAAKL,EAAOK,IAAI,EAAGC,WAAW,WAC9BpB,EAAIqB,QAAQ,GAAG,CACnB,EAAG,IAAI,EAGnB,CACJ,EAEAC,oBAAoBrB,EAAMC,EAAQI,EAAKiB,QAAQ,IAAI,CAAC,EACxD,CAOA,SAASC,wBAAwBxB,GAC7B,IAIIC,EAKAC,EATCC,QAAQ,0CAA0C,IAInDF,EAAO,CACPG,OAAQ,sBACRC,WAHAC,EAAOC,OAAOP,CAAG,GAGDQ,OAAO,EAAEC,KAAK,KAAK,EACnCC,KAAMJ,EAAKE,OAAO,EAAEC,KAAK,aAAa,CAC1C,EACIP,EAAS,CACTS,QAASL,EAAKE,OAAO,EAAEI,SAAS,sBAAsB,EACtDC,SAAU,SAASC,EAAQb,EAAMC,EAAQF,GACjCc,EAAOC,UACHD,EAAOE,OACPhB,EAAIiB,IAAI,CAACC,WAAYJ,EAAOI,WAAYF,MAAOF,EAAOE,KAAK,CAAC,EAE5DF,EAAOK,QACPnB,EAAImB,KAAKL,EAAOK,IAAI,EAAGC,WAAW,WAC9BpB,EAAIqB,QAAQ,GAAG,CACnB,EAAG,IAAI,EAGnB,CACJ,EAEAC,oBAAoBrB,EAAMC,EAAQI,EAAKiB,QAAQ,IAAI,CAAC,EACxD,CAEAhB,OAAOkB,QAAQ,EAAEC,MAAM,WACnBC,kBAAkB,EAGlBpB,OAAO,uBAAuB,EAAEqB,UAAU,CACtCC,OAAQ,KACRC,YAAa,UACbC,YAAa,CAAA,EACbC,OAAQ,CAAA,EACRC,eAAgB,SAASC,EAAOC,IAGpC,CAAC,CACL,CAAC"}