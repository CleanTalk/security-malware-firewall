{"version":3,"sources":["spbc-settings_tab--security_log.js"],"names":["spbc_sec_logs__show_more__listen","jQuery","on","spbcSettingsSecLogs","clicks","data","action","amount","args","eval","attr","params","button","this","spinner","nextElementSibling","wrapper","find","callback","spbc_sec_logs__show_more__callback","spbc_sendAJAXRequest","hide","siblings","css","result","console","log","size","html","spbc_tbl__row_actions__listen","spbcStartShowHide","document","ready","spbc_tbl__pagination__listen","spbc_tbl__sort__listen"],"mappings":"AACA,SAASA,mCACRC,OAAO,0BAA0BC,GAAG,QAAS,WAC5C,GAAGC,oBAAoBC,OAAS,EAAE,CACjCD,oBAAoBC,SACpB,IAAIC,KAAO,CACVC,OAAQ,+BACRC,OAAQJ,oBAAoBI,SAAWJ,oBAAoBC,OAAO,GAClEI,KAAMC,KAAK,QAAQR,OAAO,4BAA4BS,KAAK,QAExDC,OAAS,CACZC,OAAQC,KACRC,QAASD,KAAKE,mBACdC,QAASf,OAAO,4BAA4BgB,KAAK,SACjDC,SAAUC,oCAEXC,qBAAsBf,KAAMM,aAG5BV,OAAOY,MAAMQ,OACbpB,OAAOY,MAAMS,SAAS,yBAAyBC,IAAI,UAAW,kBAMjE,SAASJ,mCAAmCK,EAAQnB,EAAMM,GACzDc,QAAQC,IAAIF,GACK,EAAdA,EAAOG,MACT1B,OAAOU,EAAOK,SAASY,KAAKJ,EAAOI,MACnCC,gCACAC,sBAGA7B,OAAOU,EAAOC,QAAQS,OACtBpB,OAAOU,EAAOC,QAAQU,SAAS,yBAAyBC,IAAI,UAAW,iBAIzEtB,OAAO8B,UAAUC,MAAM,WAEtBH,gCACAI,+BACAC,yBAGAlC,mCAGA8B","file":"spbc-settings_tab--security_log.min.js","sourcesContent":["// SECURITY LOGS SHOW MORE\r\nfunction spbc_sec_logs__show_more__listen(){\r\n\tjQuery('#spbc_show_more_button').on('click', function(){\r\n\t\tif(spbcSettingsSecLogs.clicks < 2){\r\n\t\t\tspbcSettingsSecLogs.clicks++;\r\n\t\t\tvar data = {\r\n\t\t\t\taction: 'spbc_show_more_security_logs',\r\n\t\t\t\tamount: spbcSettingsSecLogs.amount * (+spbcSettingsSecLogs.clicks+1),\r\n\t\t\t\targs: eval('args_'+jQuery('#spbc_tbl__secuirty_logs').attr('id')),\r\n\t\t\t};\r\n\t\t\tvar params = {\r\n\t\t\t\tbutton: this,\r\n\t\t\t\tspinner: this.nextElementSibling,\r\n\t\t\t\twrapper: jQuery('#spbc_tbl__secuirty_logs').find('tbody'),\r\n\t\t\t\tcallback: spbc_sec_logs__show_more__callback,\r\n\t\t\t};\r\n\t\t\tspbc_sendAJAXRequest( data, params );\r\n\t\t}else{\r\n\t\t\t// Hide \"More logs\" button, show \"Control Panel\" button\r\n\t\t\tjQuery(this).hide();\r\n\t\t\tjQuery(this).siblings('.spbc__show_more_logs').css('display', 'inline-block');\r\n\t\t}\r\n\t});\r\n}\r\n\r\n\t// Callback for SHOW MORE SECURITY LOGS\r\nfunction spbc_sec_logs__show_more__callback(result, data, params){\t\r\n\tconsole.log(result);\r\n\tif(result.size > 0){\r\n\t\tjQuery(params.wrapper).html(result.html);\r\n\t\tspbc_tbl__row_actions__listen();\r\n\t\tspbcStartShowHide();\r\n\t}else{\r\n\t\t// Hide \"More logs\" button, show \"Control Panel\" button\r\n\t\tjQuery(params.button).hide();\r\n\t\tjQuery(params.button).siblings('.spbc__show_more_logs').css('display', 'inline-block');\r\n\t}\r\n}\r\n\r\njQuery(document).ready(function(){\r\n\t\r\n\tspbc_tbl__row_actions__listen(); // Table. Row actions handler\r\n\tspbc_tbl__pagination__listen();  // Table. Pagination handler\r\n\tspbc_tbl__sort__listen();        // Table. Sort handler\r\n\t\r\n\t// Handler for show more SECURITY LOGS\r\n\tspbc_sec_logs__show_more__listen();\r\n\t\r\n\t// Start to hide long values in a table\r\n\tspbcStartShowHide();\r\n\t\r\n});"]}