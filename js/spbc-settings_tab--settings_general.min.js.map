{"version":3,"file":"spbc-settings_tab--settings_general.min.js","sources":["spbc-settings_tab--settings_general.js"],"sourcesContent":["jQuery(document).ready(function() {\r\n    // Show/Hide access key\r\n    jQuery('#showHideLink').on('click', function() {\r\n        jQuery('#spbc_key').val(jQuery('#spbc_key').attr('key'));\r\n        jQuery('#spbc_key+div').show();\r\n        jQuery(this).fadeOut(300);\r\n    });\r\n\r\n    // Set time zone filed value if key is bad\r\n    if ( !+spbcSettings.key_is_ok ) {\r\n        let d = new Date();\r\n        jQuery('#spbc_admin_timezone').val(d.getTimezoneOffset()/60*(-1));\r\n    }\r\n\r\n    /**\r\n     * Shuffle authentication unique keys and salts\r\n     */\r\n    function spbcShuffleSalts() {\r\n        let data = {};\r\n        data.security = spbcSettings.ajax_nonce;\r\n        data.action = 'spbc_action_shuffle_salts';\r\n\r\n        jQuery.ajax({\r\n            type: 'POST',\r\n            async: false,\r\n            url: spbcSettings.ajaxurl,\r\n            data: data,\r\n            success: function(result) {\r\n                if (result.success) {\r\n                    document.location.reload();\r\n                } else {\r\n                    alert(result.data);\r\n                }\r\n            },\r\n        });\r\n    }\r\n\r\n    // Event for shuffle authentication unique keys and salts\r\n    // Enabling the salt update button and repeatedly pressing\r\n    let actionShuffleSaltsCountClicks = 0;\r\n\r\n    jQuery('#action-shuffle-salts').click(function(e) {\r\n        e.preventDefault();\r\n\r\n        if (jQuery(this).hasClass('disabled')) {\r\n            actionShuffleSaltsCountClicks++;\r\n            if (actionShuffleSaltsCountClicks === 3) {\r\n                jQuery(this).removeClass('disabled');\r\n            }\r\n        } else {\r\n            actionShuffleSaltsCountClicks = 0;\r\n\r\n            if (confirm('Are you sure?')) {\r\n                spbcShuffleSalts();\r\n            }\r\n        }\r\n    });\r\n\r\n    jQuery('button[id*=\"action-adjust-change-\"]').click(function(e) {\r\n        e.preventDefault();\r\n\r\n        let data = {};\r\n        data.action = 'spbc_action_adjust_change';\r\n        data.adjust = jQuery(this).data('adjust');\r\n\r\n        let params = {};\r\n        params.button = document.getElementById('action-adjust-change-' + data.adjust);\r\n\r\n        params.success = function() {\r\n            document.location.reload();\r\n        };\r\n\r\n        spbcSendAJAXRequest(data, params);\r\n    });\r\n\r\n    jQuery('button[id*=\"action-adjust-reverse-\"]').click(function(e) {\r\n        e.preventDefault();\r\n\r\n        let data = {};\r\n        data.action = 'spbc_action_adjust_reverse';\r\n        data.adjust = jQuery(this).data('adjust');\r\n\r\n        let params = {};\r\n        params.button = document.getElementById('action-adjust-reverse-' + data.adjust);\r\n\r\n        params.success = function() {\r\n            document.location.reload();\r\n        };\r\n\r\n        spbcSendAJAXRequest(data, params);\r\n    });\r\n});\r\n"],"names":["jQuery","document","ready","d","on","val","attr","show","this","fadeOut","spbcSettings","key_is_ok","Date","getTimezoneOffset","let","actionShuffleSaltsCountClicks","click","e","preventDefault","hasClass","removeClass","confirm","data","security","ajax_nonce","action","ajax","type","async","url","ajaxurl","success","result","location","reload","alert","params","adjust","button","getElementById","spbcSendAJAXRequest"],"mappings":"AAAAA,OAAOC,QAAQ,EAAEC,MAAM,WASnB,IACQC,EARRH,OAAO,eAAe,EAAEI,GAAG,QAAS,WAChCJ,OAAO,WAAW,EAAEK,IAAIL,OAAO,WAAW,EAAEM,KAAK,KAAK,CAAC,EACvDN,OAAO,eAAe,EAAEO,KAAK,EAC7BP,OAAOQ,IAAI,EAAEC,QAAQ,GAAG,CAC5B,CAAC,EAGK,CAACC,aAAaC,YACZR,EAAI,IAAIS,KACZZ,OAAO,sBAAsB,EAAEK,IAAIF,EAAEU,kBAAkB,EAAE,GAAG,CAAE,CAAE,GA4BpEC,IAAIC,EAAgC,EAEpCf,OAAO,uBAAuB,EAAEgB,MAAM,SAASC,GAC3CA,EAAEC,eAAe,EAEblB,OAAOQ,IAAI,EAAEW,SAAS,UAAU,EAEM,IADtCJ,EAAAA,GAEIf,OAAOQ,IAAI,EAAEY,YAAY,UAAU,GAGvCL,EAAgC,EAE5BM,QAAQ,eAAe,KAlC3BC,EAAO,IACNC,SAAWb,aAAac,WAC7BF,EAAKG,OAAS,4BAEdzB,OAAO0B,KAAK,CACRC,KAAM,OACNC,MAAO,CAAA,EACPC,IAAKnB,aAAaoB,QAClBR,KAAMA,EACNS,QAAS,SAASC,GACVA,EAAOD,QACP9B,SAASgC,SAASC,OAAO,EAEzBC,MAAMH,EAAOV,IAAI,CAEzB,CACJ,CAAC,GAsBL,CAAC,EAEDtB,OAAO,qCAAqC,EAAEgB,MAAM,SAASC,GACzDA,EAAEC,eAAe,EAEjBJ,IAAIQ,EAAO,CACXG,OAAc,2BADF,EAIRW,GAFJd,EAAKe,OAASrC,OAAOQ,IAAI,EAAEc,KAAK,QAAQ,EAE3B,IACbc,EAAOE,OAASrC,SAASsC,eAAe,wBAA0BjB,EAAKe,MAAM,EAE7ED,EAAOL,QAAU,WACb9B,SAASgC,SAASC,OAAO,CAC7B,EAEAM,oBAAoBlB,EAAMc,CAAM,CACpC,CAAC,EAEDpC,OAAO,sCAAsC,EAAEgB,MAAM,SAASC,GAC1DA,EAAEC,eAAe,EAEjBJ,IAAIQ,EAAO,CACXG,OAAc,4BADF,EAIRW,GAFJd,EAAKe,OAASrC,OAAOQ,IAAI,EAAEc,KAAK,QAAQ,EAE3B,IACbc,EAAOE,OAASrC,SAASsC,eAAe,yBAA2BjB,EAAKe,MAAM,EAE9ED,EAAOL,QAAU,WACb9B,SAASgC,SAASC,OAAO,CAC7B,EAEAM,oBAAoBlB,EAAMc,CAAM,CACpC,CAAC,CACL,CAAC"}