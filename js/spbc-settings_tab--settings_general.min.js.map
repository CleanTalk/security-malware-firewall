{"version":3,"file":"spbc-settings_tab--settings_general.min.js","sources":["spbc-settings_tab--settings_general.js"],"sourcesContent":["jQuery(document).ready(function() {\n    // Show/Hide access key\n    jQuery('#showHideLink').on('click', function() {\n        jQuery('#spbc_key').val(jQuery('#spbc_key').attr('key'));\n        jQuery('#spbc_key+div').show();\n        jQuery(this).fadeOut(300);\n    });\n\n    // Set time zone filed value if key is bad\n    if ( !+spbcSettings.key_is_ok ) {\n        let d = new Date();\n        jQuery('#spbc_admin_timezone').val(d.getTimezoneOffset()/60*(-1));\n    }\n\n    /**\n     * Shuffle authentication unique keys and salts\n     */\n    function spbcShuffleSalts() {\n        let data = {};\n        data.security = spbcSettings.ajax_nonce;\n        data.action = 'spbc_action_shuffle_salts';\n\n        jQuery.ajax({\n            type: 'POST',\n            async: false,\n            url: spbcSettings.ajaxurl,\n            data: data,\n            success: function(result) {\n                if (result.success) {\n                    document.location.reload();\n                } else {\n                    alert(result.data);\n                }\n            },\n        });\n    }\n\n    // Event for shuffle authentication unique keys and salts\n    // Enabling the salt update button and repeatedly pressing\n    let actionShuffleSaltsCountClicks = 0;\n\n    jQuery('#action-shuffle-salts').click(function(e) {\n        e.preventDefault();\n\n        if (jQuery(this).hasClass('disabled')) {\n            actionShuffleSaltsCountClicks++;\n            if (actionShuffleSaltsCountClicks === 3) {\n                jQuery(this).removeClass('disabled');\n            }\n        } else {\n            actionShuffleSaltsCountClicks = 0;\n\n            if (confirm('Are you sure?')) {\n                spbcShuffleSalts();\n            }\n        }\n    });\n});\n"],"names":["jQuery","document","ready","d","on","val","attr","show","this","fadeOut","spbcSettings","key_is_ok","Date","getTimezoneOffset","let","actionShuffleSaltsCountClicks","click","e","preventDefault","hasClass","removeClass","confirm","data","security","ajax_nonce","action","ajax","type","async","url","ajaxurl","success","result","location","reload","alert"],"mappings":"AAAAA,OAAOC,QAAQ,EAAEC,MAAM,WASnB,IACQC,EARRH,OAAO,eAAe,EAAEI,GAAG,QAAS,WAChCJ,OAAO,WAAW,EAAEK,IAAIL,OAAO,WAAW,EAAEM,KAAK,KAAK,CAAC,EACvDN,OAAO,eAAe,EAAEO,KAAK,EAC7BP,OAAOQ,IAAI,EAAEC,QAAQ,GAAG,CAC5B,CAAC,EAGK,CAACC,aAAaC,YACZR,EAAI,IAAIS,KACZZ,OAAO,sBAAsB,EAAEK,IAAIF,EAAEU,kBAAkB,EAAE,GAAG,CAAE,CAAE,GA4BpEC,IAAIC,EAAgC,EAEpCf,OAAO,uBAAuB,EAAEgB,MAAM,SAASC,GAC3CA,EAAEC,eAAe,EAEblB,OAAOQ,IAAI,EAAEW,SAAS,UAAU,EAEM,IADtCJ,EAAAA,GAEIf,OAAOQ,IAAI,EAAEY,YAAY,UAAU,GAGvCL,EAAgC,EAE5BM,QAAQ,eAAe,KAlC3BC,EAAO,IACNC,SAAWb,aAAac,WAC7BF,EAAKG,OAAS,4BAEdzB,OAAO0B,KAAK,CACRC,KAAM,OACNC,MAAO,CAAA,EACPC,IAAKnB,aAAaoB,QAClBR,KAAMA,EACNS,QAAS,SAASC,GACVA,EAAOD,QACP9B,SAASgC,SAASC,OAAO,EAEzBC,MAAMH,EAAOV,IAAI,CAEzB,CACJ,CAAC,GAsBL,CAAC,CACL,CAAC"}