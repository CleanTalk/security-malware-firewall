function spbc_switchTab(e,t){var c=e.classList[1].replace("spbc_tab_nav-","");if(jQuery(".spbc_tab_nav").removeClass("spbc_tab_nav--active"),jQuery(".spbc_tab").removeClass("spbc_tab--active"),jQuery(e).addClass("spbc_tab_nav--active"),jQuery(".spbc_tab-"+c).addClass("spbc_tab--active"),jQuery(e).data("loaded")){if(t&&t.action)switch(t.action){case"highlight":spbcHighlightElement(t.target,t.times);break;case"click":setTimeout(function(){jQuery("#"+t.additional.target).click()},500)}}else{var a={action:"spbc_settings__draw_elements",tab_name:c,security:spbcSettings.ajax_nonce};t={callback:spbc_draw_settings_callback,notJson:!0,additional:t||null};spbc_sendAJAXRequest(a,t,e)}}function spbc_draw_settings_callback(e,t,c,a){jQuery(a).data("loaded",!0),jQuery(".spbc_tab-"+t.tab_name).replaceWith(e);var n=jQuery(".spbc_tab-"+t.tab_name);if(n.addClass("spbc_tab--active"),c.additional)switch(c.additional.action){case"highlight":spbcHighlightElement(c.additional.target,c.additional.times);break;case"click":setTimeout(function(){jQuery("#"+c.additional.target).click()},500)}jQuery(n).on("click",".spbc_hint-send_"+t.tab_name,function(){jQuery(".spbc_hint-send_"+t.tab_name).hide(),spbc_sendAJAXRequest({action:"spbc_send_"+t.tab_name,tab_name:t.tab_name},{callback:spbc_send_logs_callback})})}function spbc_send_logs_callback(e,t,c,a){jQuery(".spbc_tab_nav-"+t.tab_name).data("loaded",!1),spbc_switchTab(document.getElementsByClassName("spbc_tab_nav-"+t.tab_name)[0])}function spbcSettingsDependencies(e,i){"string"==typeof e&&(tmp=[],tmp.push(e),e=tmp),i=void 0===i?null:+i,e.forEach(function(e,t,c){function a(){s.setAttribute("disabled","disabled")}function n(){s.removeAttribute("disabled")}var s=document.getElementById("spbc_setting_"+e);null!==i?1===i?n():a():null===s.getAttribute("disabled")?a():n()})}function spbc_settings__show_description(e,t){var n=function(e){void 0!==e&&(0!=jQuery(e.target).parent(".spbc_long_desc").length&&!jQuery(e.target).hasClass("spbc_long_desc__cancel")||jQuery(e.target).hasClass("spbc_long_description__show"))||(jQuery(".spbc_long_desc").remove(),jQuery(document).off("click",n))};n(),e.after("<div id='spbc_long_desc__"+t+"' class='spbc_long_desc'></div>");var c=jQuery("#spbc_long_desc__"+t);c.append("<i class='icon-spin1 animate-spin'></i>").append("<div class='spbc_long_desc__angle'></div>").css({top:e.position().top-5,left:e.position().left+25}),spbc_sendAJAXRequest({action:"spbc_settings__get_description",setting_id:t},{spinner:c.children("img"),callback:function(e,t,c,a){a.empty().append("<div class='spbc_long_desc__angle'></div>").append("<i class='spbc_long_desc__cancel icon-cancel'></i>").append("<h3 class='spbc_long_desc__title'>"+e.title+"</h3>").append("<p>"+e.desc+"</p>"),jQuery(document).on("click",n)}},c)}function spbcStartShowHide(){jQuery(".spbcShortText").on("mouseover",function(){jQuery(this).hide(),jQuery(this).next().show()}),jQuery(".spbcFullText").on("mouseout",function(){jQuery(this).hide(),jQuery(this).prev().show()})}function spbctGenerateConfirmationCode(){var e={},t={success:!1};return e.security=spbcSettings.ajax_nonce,e.action="spbc_generate_confirmation_code",jQuery.ajax({type:"POST",async:!1,url:spbcSettings.ajaxurl,data:e,success:function(e){e.success?t.success=!0:t.text=e.data}}),t}function spbctCheckConfirmationCode(e){var t=e,c={};c.security=spbcSettings.ajax_nonce,c.action="spbc_check_confirmation_code",c.code=jQuery("#confirmation-code input").val(),jQuery.ajax({type:"POST",async:!1,url:spbcSettings.ajaxurl,data:c,success:function(e){jQuery("#confirmation-code").dialog("close"),e.success?(jQuery("[name *= 2fa_enable]").attr("checked",""),t.checked=!0,jQuery("#spbc_setting_2fa_roles").removeAttr("disabled")):alert("Code verification failed!")}})}function spbc_banner_check(){var n=setInterval(function(){spbc_sendAJAXRequest({action:"spbc_settings__check_renew_banner"},{callback:function(e,t,c,a){e.close_renew_banner&&(jQuery("#spbc_renew_notice").length&&jQuery("#spbc_renew_notice").hide("slow"),jQuery("#spbc_trial_notice").length&&jQuery("#spbc_trial_notice").hide("slow"),clearInterval(n))}})},6e4)}String.prototype.printf=function(){var e=this;for(var t in arguments){var c=e.substring(0,e.indexOf("%s",0)),a=e.substring(e.indexOf("%s",0)+2,e.length);e=c+arguments[t]+a}return e},jQuery(document).ready(function(){jQuery("#spbc_gdpr_open_modal").on("click",function(){jQuery("#gdpr_dialog").dialog({modal:!0,show:!0,position:{my:"center",at:"center",of:window},width:+jQuery("#wpbody").width()/100*70,height:"auto",title:"GDPR compliance",draggable:!1,resizable:!1,closeText:"Close"})}),jQuery(document).on("click","[name*=fa_enable]:not([value=0])",function(e){e.preventDefault();var t=spbctGenerateConfirmationCode();t.success?(jQuery("#confirmation-code input").val(""),jQuery("#confirmation-code").dialog({modal:!0,title:"Confirmation code",buttons:{Cancel:function(){jQuery(this).dialog("close")},Ok:function(){spbctCheckConfirmationCode(e.target)}},draggable:!1,resizable:!1})):alert(t.text)}),(jQuery("#spbc_renew_notice").length||jQuery("#spbc_trial_notice").length)&&spbc_banner_check(),jQuery("#spbc_button__sync").on("click",function(){spbc_sendAJAXRequest({action:"spbc_sync"},{button:document.getElementById("spbc_button__sync"),spinner:jQuery("#spbc_button__sync .spbc_preloader_button"),callback:function(e,t,c,a){jQuery(".spbc_success").show(300),setTimeout(function(){jQuery(".spbc_success").hide(300)},2e3)}})}),jQuery(".spbc_tab_nav-summary").data("loaded",!0),jQuery(".spbc_tabs_nav_wrapper").on("click",".spbc_tab_nav",function(e){spbc_switchTab(e.currentTarget)});var e={target:location.search.match(/spbc_target=(\S*?)(&|$)/)?location.search.match(/spbc_target=(\S*?)(&|$)/)[1]:null,action:location.search.match(/spbc_action=(\S*?)(&|$)/)?location.search.match(/spbc_action=(\S*?)(&|$)/)[1]:null,times:location.search.match(/spbc_times=(\S*?)(&|$)/)?location.search.match(/spbc_times=(\S*?)(&|$)/)[1]:3};e.target=location.search.match(/spbc_highlight=(\S*?)(&|$)/)?location.search.match(/spbc_highlight=(\S*?)(&|$)/)[1]:e.target,e.action=-1!=location.search.search(/spbc_highlight=(\S*?)(&|$)/)?"highlight":e.action;var t=document.getElementsByClassName("spbc_tab_nav-"+(location.search.match(/spbc_tab=(\S*?)(&|$)/)?location.search.match(/spbc_tab=(\S*?)(&|$)/)[1]:""))[0]||null;t||(+spbcSettings.debug?t=document.getElementsByClassName("spbc_tab_nav-debug")[0]:+spbcSettings.wpms&&!+spbcSettings.is_main_site?t=document.getElementsByClassName("spbc_tab_nav-security_log")[0]:+spbcSettings.key_is_ok?t=document.getElementsByClassName("spbc_tab_nav-scanner")[0]:(t=document.getElementsByClassName("spbc_tab_nav-settings_general")[0],e={target:"spbc_key",action:"highlight",times:3})),t&&spbc_switchTab(t,e)});
//# sourceMappingURL=spbc-settings.min.js.map
