{"version":3,"file":"spbc-settings.min.js","sources":["spbc-settings.js"],"sourcesContent":["// Printf for JS\nString.prototype.printf = function() {\n    let formatted = this;\n    for ( let arg in arguments ) {\n        let before_formatted = formatted.substring(0, formatted.indexOf('%s', 0));\n        let after_formatted = formatted.substring(formatted.indexOf('%s', 0)+2, formatted.length);\n        formatted = before_formatted + arguments[arg] + after_formatted;\n    }\n    return formatted;\n};\n\n// Switching tabs\nfunction spbc_switchTab(tab, params) {\n    let tab_name = tab.classList[1].replace('spbc_tab_nav-', '');\n\n    // update url\n    let searchParams = new URLSearchParams(window.location.search);\n    searchParams.set('spbc_tab', tab_name);\n    let hashParam = window.location.hash;\n    let newRelativePathQuery = window.location.pathname + '?' + searchParams.toString() + hashParam;\n\n    history.replaceState(null, '', newRelativePathQuery);\n\n    // Hiding a tab 'Backups' if exist\n    if (searchParams.get('spbc_tab') !== 'backups') {\n    \tjQuery('.spbc_tab_nav-backups').hide();\n    }\n\n    // update active tab\n    jQuery('.spbc_tab_nav').removeClass('spbc_tab_nav--active');\n    jQuery('.spbc_tab').removeClass('spbc_tab--active');\n    jQuery(tab).addClass('spbc_tab_nav--active');\n    jQuery('.spbc_tab-'+tab_name).addClass('spbc_tab--active');\n\n    if (!jQuery(tab).data('loaded')) {\n        let data = {\n            action: 'spbc_settings__draw_elements',\n            tab_name: tab_name,\n            security: spbcSettings.ajax_nonce,\n        };\n        var params = {\n            callback: spbc_draw_settings_callback,\n            notJson: true,\n            additional: params || null,\n        };\n        spbcSendAJAXRequest( data, params, tab );\n    } else if (params && params.action) {\n        switch (params.action) {\n        case 'highlight':\n            spbcHighlightElement(params.target, params.times);\n            break;\n        case 'click':\n            setTimeout(function() {\n                jQuery('#'+params.additional.target).click();\n            }, 500);\n            break;\n        }\n    }\n}\n\nfunction spbc_draw_settings_callback(result, data, params, obj) {\n    jQuery(obj).data('loaded', true);\n    jQuery('.spbc_tab-'+data.tab_name).replaceWith(result);\n    let tab = jQuery('.spbc_tab-'+data.tab_name);\n    tab.addClass('spbc_tab--active');\n\n    jQuery(document).off( 'click', '.spbc_long_description__show');\n    jQuery(document).on('click', '.spbc_long_description__show', function() {\n        self = jQuery(this);\n        spbc_settings__show_description(self, self.attr('setting'));\n    });\n\n    jQuery(document).off( 'click', '.spbc_long_recommendation__show');\n    jQuery(document).on('click', '.spbc_long_recommendation__show', function() {\n        self = jQuery(this);\n        spbc_settings__show_recommendation(self, self.attr('setting'));\n    });\n\n    if (params.additional) {\n\t    switch (params.additional.action) {\n        case 'highlight':\n\t\t        spbcHighlightElement(params.additional.target, params.additional.times);\n            break;\n        case 'click':\n            setTimeout(function() {\n\t\t            jQuery('#'+params.additional.target).click();\n            }, 500);\n            break;\n        }\n    }\n\n    jQuery(tab).on('click', '.spbc_hint-send_'+data.tab_name, function() {\n        jQuery('.spbc_hint-send_'+data.tab_name).hide();\n        spbcSendAJAXRequest(\n            {action: 'spbc_send_'+data.tab_name, tab_name: data.tab_name},\n            {callback: spbc_send_logs_callback},\n        );\n    });\n\n    // scroll to anchor\n    if (window.location.hash) {\n        document.getElementById(window.location.hash.substring(1)).scrollIntoView();\n    }\n\n    document.dispatchEvent(\n        new CustomEvent( 'spbctTabLoaded', {\n            bubbles: true,\n            detail: {tab: data.tab_name},\n        } ),\n    );\n}\n\nfunction spbc_send_logs_callback(result, data, params, obj) {\n    jQuery('.spbc_tab_nav-'+data.tab_name).data('loaded', false);\n    spbc_switchTab(document.getElementsByClassName('spbc_tab_nav-'+data.tab_name)[0]);\n}\n\n// Settings dependences\nfunction spbcSettingsDependenciesbyId(settingsIDs, enable) {\n    if (typeof settingsIDs === 'string') {\n        tmp = [];\n        tmp.push(settingsIDs);\n        settingsIDs = tmp;\n    }\n\n    enable = typeof enable === 'undefined' ? null : +enable;\n\n    settingsIDs.forEach(function(settingID, i, arr) {\n        let elem = document.getElementById('spbc_setting_'+settingID);\n        let do_disable = function() {\n            elem.setAttribute('disabled', 'disabled');\n        };\n        let do_enable = function() {\n            elem.removeAttribute('disabled');\n        };\n\n        if (enable !== null) // Set\n        {\n            enable === 1 ? do_enable() : do_disable();\n        } else // Switch\n        {\n            elem.getAttribute('disabled') === null ? do_disable() : do_enable();\n        }\n    });\n}\n\n/**\n * Recursive in case children found!\n *\n * Settings dependencies\n *\n */\nfunction spbcSettingsDependencies(settingNames, enable) {\n    // Cast settingNames to array\n    settingNames = typeof settingNames === 'string' ? settingNames.split(',') : settingNames;\n    enable = typeof enable === 'undefined' ? +event.target.checked : +enable;\n\n    settingNames.forEach(function(settingName, i, arr) {\n        document.getElementsByName('spbc_settings['+settingName+']')\n            .forEach(function( elem, i, arr ) {\n                let\tdo_disable = function() {\n                    elem.setAttribute('disabled', 'disabled');\n                };\n                let do_enable = function() {\n                    elem.removeAttribute('disabled');\n                };\n                if (enable !== null) // Set\n                {\n                    enable === 1 ? do_enable() : do_disable();\n                } else // Switch\n                {\n                    elem.getAttribute('disabled') === null ? do_disable() : do_enable();\n                }\n\n                let children = elem.getAttribute('children');\n                if ( children !== null ) {\n                    spbcSettingsDependencies(children, enable && elem.checked);\n                }\n            });\n    });\n}\n\nfunction spbc_settings__show_description(label, setting_id) {\n    let remove_desc_func = function(e) {\n        if (typeof e === 'undefined' || ((jQuery(e.target).parent('.spbc_long_desc').length == 0 || jQuery(e.target).hasClass('spbc_long_desc__cancel')) && !jQuery(e.target).hasClass('spbc_long_description__show'))) {\n            jQuery('.spbc_long_desc').remove();\n            jQuery(document).off('click', remove_desc_func);\n        }\n    };\n\n    remove_desc_func();\n\n    label.after('<div id=\\'spbc_long_desc__'+setting_id+'\\' class=\\'spbc_long_desc\\'></div>');\n    let obj = jQuery('#spbc_long_desc__'+setting_id);\n    obj.append('<i class=\\'spbc-icon-spin1 animate-spin\\'></i>')\n        .append('<div class=\\'spbc_long_desc__angle_top_left\\'></div>')\n        .css({\n            top: label.position().top + 25,\n            left: label.position().left + 5,\n        });\n\n\n    spbcSendAJAXRequest(\n        {action: 'spbc_settings__get_description', setting_id: setting_id},\n        {\n            spinner: obj.children('img'),\n            callback: function(result, data, params, obj) {\n                obj.empty()\n                    .append('<div class=\\'spbc_long_desc__angle_top_left\\'></div>')\n                    .append('<i class=\\'spbc_long_desc__cancel spbc-icon-cancel\\'></i>')\n                    .append('<h3 class=\\'spbc_long_desc__title\\'>'+result.title+'</h3>')\n                    .append('<p>'+result.desc+'</p>');\n\n                jQuery(document).on('click', remove_desc_func);\n            },\n        },\n        obj,\n    );\n}\n\nfunction spbc_settings__show_recommendation(label, setting_id) {\n    let remove_recommendation_func = function(e) {\n        if (typeof e === 'undefined' || ((jQuery(e.target).parent('.spbc_long_desc').length == 0 || jQuery(e.target).hasClass('spbc_long_desc__cancel')) && !jQuery(e.target).hasClass('spbc_long_recommendation__show'))) {\n            jQuery('.spbc_long_desc').remove();\n            jQuery(document).off('click', remove_recommendation_func);\n        }\n    };\n\n    remove_recommendation_func();\n\n    label.after('<div id=\\'spbc_long_desc__'+setting_id+'\\' class=\\'spbc_long_desc\\'></div>');\n    let obj = jQuery('#spbc_long_desc__'+setting_id);\n    obj.append('<i class=\\'spbc-icon-spin1 animate-spin\\'></i>')\n        .append('<div class=\\'spbc_long_desc__angle_top_left\\'></div>')\n        .css({\n            top: label.position().top + 25,\n            left: label.position().left + 5,\n        });\n\n\n    spbcSendAJAXRequest(\n        {action: 'spbc_settings__get_recommendation', setting_id: setting_id},\n        {\n            spinner: obj.children('img'),\n            callback: function(result, data, params, obj) {\n                obj.empty()\n                    .append('<div class=\\'spbc_long_desc__angle_top_left\\'></div>')\n                    .append('<i class=\\'spbc_long_desc__cancel spbc-icon-cancel\\'></i>')\n                    .append('<h3 class=\\'spbc_long_desc__title\\' style=\\'margin-right: 2em;\\'>'+result.title+'</h3>')\n                    .append('<p>'+result.desc+'</p>');\n\n                jQuery(document).on('click', remove_recommendation_func);\n            },\n        },\n        obj,\n    );\n}\n\n// Shows/hides full text\nfunction spbcStartShowHide() {\n    jQuery('.spbcShortText')\n        .off('mouseover' )\n        .on('mouseover', function() {\n            jQuery(this).next().show();\n        })\n        .off('mouseout' )\n        .on('mouseout', function() {\n            jQuery(this).next().hide();\n        });\n    jQuery('.spbcFullText')\n        .off('mouseout' )\n        .on('mouseout', function() {\n            jQuery(this).hide();\n        })\n        .off('mouseover' )\n        .on('mouseover', function() {\n            jQuery(this).show();\n        });\n}\n\n// Generate and save confirmation code\nfunction spbctGenerateConfirmationCode() {\n    let data = {};\n    let res = {};\n    res.success = false;\n    data.security = spbcSettings.ajax_nonce;\n    data.action = 'spbc_generate_confirmation_code';\n\n    jQuery.ajax({\n        type: 'POST',\n        async: false,\n        url: spbcSettings.ajaxurl,\n        data: data,\n        success: function(result) {\n            if (result.success) {\n                res.success = true;\n            } else {\n                res.text = result.data;\n            }\n        },\n    });\n    return res;\n}\n// Check confirmation code\nfunction spbctCheckConfirmationCode( radioButton, timeout, timer ) {\n    let element = radioButton;\n    let data = {};\n    data.security = spbcSettings.ajax_nonce;\n    data.action = 'spbc_check_confirmation_code';\n    data.code = jQuery('#confirmation-code input').val();\n\n    jQuery.ajax({\n        type: 'POST',\n        async: false,\n        url: spbcSettings.ajaxurl,\n        data: data,\n        success: function(result) {\n            if (result.success) {\n                jQuery('[name *= 2fa__enable]').attr('checked', '');\n                element.checked = true;\n                jQuery('#spbc_setting_2fa__roles').removeAttr('disabled');\n                jQuery('#spbc_setting_2fa__roles > option:first').attr('selected', 'selected');\n                clearTimeout( timeout );\n                timer.remove();\n                jQuery('#confirmation-code').dialog( 'close' );\n            } else {\n                alert('Code verification failed!');\n            }\n        },\n    });\n}\n\n/**\n * Checking current account status for renew notice\n */\nfunction spbc_banner_check() {\n    var bannerChecker = setInterval( function() {\n        spbcSendAJAXRequest(\n            {action: 'spbc_settings__check_renew_banner'},\n            {\n                callback: function(result, data, params, obj) {\n                    if (result.close_renew_banner) {\n                        if (jQuery('#spbc_renew_notice').length) {\n                            jQuery('#spbc_renew_notice').hide('slow');\n                        }\n                        if (jQuery('#spbc_trial_notice').length) {\n                            jQuery('#spbc_trial_notice').hide('slow');\n                        }\n                        clearInterval(bannerChecker);\n                    }\n                },\n            },\n        );\n    }, 60000);\n}\n\njQuery(document).ready(function() {\n    document.dispatchEvent(new CustomEvent('spbctPage', {bubbles: true}));\n    document.dispatchEvent(new CustomEvent('spbctPageTabs', {bubbles: true}));\n\n    jQuery('#spbc_gdpr_open_modal').on('click', function() {\n        jQuery('#gdpr_dialog').dialog({\n            modal: true,\n            show: true,\n            position: {my: 'center', at: 'center', of: window},\n            width: +(jQuery('#wpbody').width() / 100 * 70), // 70% of #wpbody\n            height: 'auto',\n            title: 'GDPR compliance',\n            draggable: false,\n            resizable: false,\n            closeText: 'Close',\n        });\n    });\n\n    // Checking email receiving possibility for activation 2FA\n    jQuery(document).on('click', '[name*=fa__enable]:not([value=0]),#confirmation-code--resend', function(e) {\n        e.preventDefault();\n\n        jQuery('#confirmation-code--resend').attr('disabled', 'disabled')\n            .append('<div class=\"circle circle--small -animation--circle -animation--30s \"><div class=\"circle-inner\"></div></div>');\n        let enableResend = setTimeout(function() {\n            jQuery('#confirmation-code--resend').removeAttr('disabled');\n            jQuery('#confirmation-code--resend>.circle').remove();\n        }, 30000);\n\n        let res = spbctGenerateConfirmationCode();\n        if ( res.success ) {\n            jQuery('#confirmation-code input').val('');\n            jQuery('#confirmation-code').dialog({\n                modal: true,\n                title: 'Confirmation code',\n                width: 310,\n                buttons: {\n                    Cancel: function() {\n                        jQuery( this ).dialog( 'close' );\n                        clearTimeout( enableResend );\n                        jQuery('#confirmation-code--resend>.circle').remove();\n                    },\n                    Ok: function() {\n                        spbctCheckConfirmationCode(e.target, enableResend, jQuery('#confirmation-code--resend>.circle'));\n                    },\n                },\n                draggable: false,\n                resizable: false,\n            });\n        } else {\n            alert(res.text);\n        }\n    });\n\n    if (jQuery('#spbc_renew_notice').length || jQuery('#spbc_trial_notice').length) {\n        spbc_banner_check();\n    }\n\n    // Sync button\n    // jQuery('#spbc_button__sync').on('click', function(){\n    // jQuery('#spbc_button__sync_regular').hide();\n    // jQuery('#spbc_button__sync_action').show();\n    // \tspbcSendAJAXRequest(\n    // \t\t{action: 'spbc_sync'},\n    // \t\t{\n    // \t\t\ttimeout: 25000,\n    // \t\t\tbutton: document.getElementById('spbc_button__sync' ),\n    // \t\t\tspinner: [jQuery('#spbc_button__sync .spbc_preloader_button')],\n    // \t\t\tcallback: function(result, data, params, obj){\n    // \t\t\t\tjQuery('#spbc_button__sync .spbc_success').show(300);\n    // \t\t\t\tsetTimeout(function(){jQuery('#spbc_button__sync .spbc_success').hide(300);}, 2000);\n    //       \t\t\tjQuery('#spbc_button__sync_regular').show();\n    //       \t\t\tjQuery('#spbc_button__sync_action').hide();\n    // \t\t\t\tif(result.reload) {\n    // \t\t\t\t\tspbc_switchTab(jQuery('.spbc_tab_nav-scanner')[0]);\n    // \t\t\t\t\tdocument.location.reload();\n    // \t\t\t\t}\n    // \t\t\t}\n    // \t\t}\n    // \t);\n    // });\n\n    if ( spbcSettings.key_changed ) {\n        jQuery('#spbc_button__sync').click();\n    }\n\n    // Get Key Auto button\n    jQuery(document).on('click', '#spbc_setting_get_key_auto', function() {\n        spbcSendAJAXRequest(\n            {action: 'spbc_get_key_auto'},\n            {\n                timeout: 25000,\n                button: document.getElementById('spbc_setting_get_key_auto' ),\n                spinner: jQuery('#spbc_setting_get_key_auto .spbc_preloader_button' ),\n                callback: function(result, data, params, obj) {\n                    jQuery('#spbc_setting_get_key_auto .spbc_success').show(300);\n                    setTimeout(function() {\n                        jQuery('#spbc_setting_get_key_auto .spbc_success').hide(300);\n                    }, 2000);\n                    if (result.reload) {\n                        document.location.reload();\n                    }\n                    if (result.msg) {\n                        spbcModal.open().putError(result.msg);\n                    }\n                    if (result.getTemplates) {\n                        spbcModal.loaded = result.getTemplates;\n                        spbcModal.open();\n                        document.addEventListener('spbcModalClosed', function( e ) {\n                            document.location.reload();\n                        });\n                    }\n                },\n            },\n        );\n    });\n\n    // Import settings\n    jQuery( document ).on('click', '#spbc_settings_templates_import_button', function() {\n        jQuery('#spbc-ajax-result').remove();\n        let optionSelected = jQuery('option:selected', jQuery('#spbc_settings_templates_import'));\n        let templateNameInput = jQuery('#spbc_settings_templates_import_name');\n        templateNameInput.css('border-color', 'inherit');\n        if ( typeof optionSelected.data('id') === 'undefined' ) {\n            console.log( 'Attribute \"data-id\" not set for the option.' );\n            return;\n        }\n        let data = {\n            'template_id': optionSelected.data('id'),\n            'template_name': optionSelected.data('name'),\n            'settings': optionSelected.data('settings'),\n        };\n        let button = this;\n        spbcSendAJAXRequest(\n            {action: 'spbc_settings_templates_import', data: data},\n            {\n                timeout: 25000,\n                button: button,\n                spinner: jQuery('#spbc_settings_templates_import_button .spbc_preloader_button' ),\n                callback: function(result, data, params, obj) {\n                    if (result.success) {\n                        jQuery( '<p id=\\'spbc-ajax-result\\' class=\\'success\\'>' + result.data + '</p>' ).insertAfter( jQuery(button) );\n                        jQuery('#spbc_settings_templates_import_button .spbc_success').show(300);\n                        setTimeout(function() {\n                            jQuery('#spbc_settings_templates_import_button .spbc_success').hide(300);\n                        }, 2000);\n                        document.addEventListener('spbcModalClosed', function( e ) {\n                            document.location.reload();\n                        });\n                        setTimeout(function() {\n                            spbcModal.close();\n                        }, 2000);\n                    } else {\n                        jQuery( '<p id=\\'spbc-ajax-result\\' class=\\'error\\'>' + result.data + '</p>' ).insertAfter( jQuery(button) );\n                    }\n                },\n            },\n        );\n    });\n\n    // Export settings\n    jQuery( document ).on('click', '#spbc_settings_templates_export_button', function() {\n        jQuery('#spbc-ajax-result').remove();\n        let optionSelected = jQuery('option:selected', jQuery('#spbc_settings_templates_export'));\n        let templateNameInput = jQuery('#spbc_settings_templates_export_name');\n        templateNameInput.css('border-color', 'inherit');\n        if ( typeof optionSelected.data('id') === 'undefined' ) {\n            console.log( 'Attribute \"data-id\" not set for the option.' );\n            return;\n        }\n        if ( optionSelected.data('id') === 'new_template' ) {\n            let templateName = templateNameInput.val();\n            if ( templateName === '' ) {\n                templateNameInput.css('border-color', 'red');\n                return;\n            }\n            var data = {\n                'template_name': templateName,\n            };\n        } else {\n            var data = {\n                'template_id': optionSelected.data('id'),\n            };\n        }\n        let button = this;\n        spbcSendAJAXRequest(\n            {action: 'spbc_settings_templates_export', data: data},\n            {\n                timeout: 25000,\n                button: button,\n                spinner: jQuery('#spbc_settings_templates_export_button .spbc_preloader_button' ),\n                callback: function(result, data, params, obj) {\n                    if (result.success) {\n                        jQuery( '<p id=\\'spbc-ajax-result\\' class=\\'success\\'>' + result.data + '</p>' ).insertAfter( jQuery(button) );\n                        jQuery('#spbc_settings_templates_export_button .spbc_success').show(300);\n                        setTimeout(function() {\n                            jQuery('#spbc_settings_templates_export_button .spbc_success').hide(300);\n                        }, 2000);\n                        document.addEventListener('spbcModalClosed', function( e ) {\n                            document.location.reload();\n                        });\n                        setTimeout(function() {\n                            spbcModal.close();\n                        }, 2000);\n                    } else {\n                        jQuery( '<p id=\\'spbc-ajax-result\\' class=\\'error\\'>' + result.data + '</p>' ).insertAfter( jQuery(button) );\n                    }\n                },\n            },\n        );\n    });\n\n    // Reset settings\n    jQuery( document ).on('click', '#spbc_settings_templates_reset_button', function() {\n        let button = this;\n        spbcSendAJAXRequest(\n            {action: 'spbc_settings_templates_reset'},\n            {\n                timeout: 25000,\n                button: button,\n                spinner: jQuery('#spbc_settings_templates_reset_button .spbc_preloader_button' ),\n                callback: function(result, data, params, obj) {\n                    if (result.success) {\n                        jQuery( '<p id=\\'spbc-ajax-result\\' class=\\'success\\'>' + result.data + '</p>' ).insertAfter( jQuery(button) );\n                        jQuery('#spbc_settings_templates_reset_button .spbc_success').show(300);\n                        setTimeout(function() {\n                            jQuery('#spbc_settings_templates_reset_button .spbc_success').hide(300);\n                        }, 2000);\n                        document.addEventListener('spbcModalClosed', function( e ) {\n                            document.location.reload();\n                        });\n                        setTimeout(function() {\n                            spbcModal.close();\n                        }, 2000);\n                    } else {\n                        jQuery( '<p id=\\'spbc-ajax-result\\' class=\\'error\\'>' + result.data + '</p>' ).insertAfter( jQuery(button) );\n                    }\n                },\n            },\n        );\n    });\n\n    jQuery(document).on('change', '#spbc_settings_templates_export', function() {\n        let optionSelected = jQuery('option:selected', this);\n        if ( optionSelected.data('id') === 'new_template' ) {\n            jQuery(this).parent().parent().find('#spbc_settings_templates_export_name').show();\n        } else {\n            jQuery(this).parent().parent().find('#spbc_settings_templates_export_name').hide();\n        }\n    });\n\n    //* TAB_CONTROL\n\n    // jQuery('.spbc_tab_nav-summary').data('loaded', true); // Summary tab loaded by default\n    // jQuery('.spbc_tabs_nav_wrapper').on('click', '.spbc_tab_nav', function(event){\n    // \tspbc_switchTab(event.currentTarget);\n    // });\n\n    // // Get additional params\n    // var params = {\n    //     target: location.search.match(/spbc_target=(\\S*?)(&|$)/) ? location.search.match(/spbc_target=(\\S*?)(&|$)/)[1] : null,\n    //     action: location.search.match(/spbc_action=(\\S*?)(&|$)/) ? location.search.match(/spbc_action=(\\S*?)(&|$)/)[1] : null,\n    //     times: location.search.match(/spbc_times=(\\S*?)(&|$)/)   ? location.search.match(/spbc_times=(\\S*?)(&|$)/)[1]  : 3,\n    // };\n    // // Legacy support\n    // params.target = location.search.match(/spbc_highlight=(\\S*?)(&|$)/) ? location.search.match(/spbc_highlight=(\\S*?)(&|$)/)[1] : params.target;\n    // params.action = location.search.search(/spbc_highlight=(\\S*?)(&|$)/) != -1\n    //     ? 'highlight'\n    //     : params.action;\n\n    // // Get open tab form query\n    // var spbc_tab = document.getElementsByClassName('spbc_tab_nav-' + (location.search.match(/spbc_tab=(\\S*?)(&|$)/) ? location.search.match(/spbc_tab=(\\S*?)(&|$)/)[1] : ''))[0] || null;\n\n    // // TAB SWITCHING\n    // // Switch by URL\n    // if(spbc_tab){\n\n    // // Switch to DEBUG\n    // }else if( +spbcSettings.debug ){\n    // \tspbc_tab = document.getElementsByClassName('spbc_tab_nav-debug')[0];\n    // // Switch by DEFAULT\n    // }else if( +spbcSettings.wpms && !+spbcSettings.is_main_site){\n    // \tspbc_tab = document.getElementsByClassName('spbc_tab_nav-security_log')[0];\n    // // Switch if Key is OK and SFW is ON\n    // }else if( +spbcSettings.key_is_ok && +spbcSettings.secfw_enabled ){\n    // \tspbc_tab = document.getElementsByClassName('spbc_tab_nav-traffic_control')[0];\n    // // Switch if Key is OK\n    // }else if( +spbcSettings.key_is_ok ){\n    // \tspbc_tab = document.getElementsByClassName('spbc_tab_nav-scanner')[0];\n    // // Switch if KEY IS BAD\n    // }else{\n    // \tspbc_tab = document.getElementsByClassName('spbc_tab_nav-settings_general')[0];\n    // \tparams = {\n    // \t    target: 'spbc_key',\n    //         action: 'highlight',\n    //         times: 3,\n    //     };\n    // }\n\n    // // Switch tab\n    // if(spbc_tab) spbc_switchTab(spbc_tab, params);\n\n    //* / TAB_CONROL END\n\n    //* REFRESH TAB IF ctrl+F5\n    // var ctrlKeyDown = false;\n\n    // jQuery(document).on(\"keyup\", function(e) {\n    // \tif ((e.which || e.keyCode) == 17) ctrlKeyDown = false;\n    // });\n\n    // jQuery(document).on(\"keydown\", function(e) {\n    // \tif (((e.which || e.keyCode) == 116) && ctrlKeyDown) {\n    // \t\te.preventDefault();\n\n    // \t\tvar active_tab = jQuery('.spbc_tab_nav--active')[0];\n    // \t\tvar tab_name = active_tab.classList[1].replace('spbc_tab_nav-', '');\n\n    // \t\tif (tab_name === 'scanner') return;\n\n    // \t\tjQuery(active_tab).data('loaded', false);\n\n    // \t\tspbc_switchTab(active_tab);\n\n    // \t} else if ((e.which || e.keyCode) == 17) {\n    //         ctrlKeyDown = true;\n    //     }\n    // });\n    //* / REFRESH TAB IF ctrl+F5 END\n\n    /**\n     * Change cleantalk account email\n     */\n    jQuery(document).on('click', '#spbc-change-account-email', function(e) {\n        e.preventDefault();\n\n        let $this = jQuery(this);\n        let accountEmailField = jQuery('#spbc-account-email');\n        let accountEmail = accountEmailField.text();\n\n        spbcToggleClass($this, 'active');\n\n        if ($this.hasClass('active')) {\n            $this.text($this.data('save-text'));\n            accountEmailField.attr('contenteditable', 'true');\n            accountEmailField.focus();\n            accountEmailField.on('keydown', function(e) {\n                if (e.code === 'Enter') {\n                    e.preventDefault();\n                }\n            });\n            accountEmailField.on('input', function(e) {\n                if (e.inputType === 'insertParagraph') {\n                    e.preventDefault();\n                }\n            });\n        } else {\n            spbcSendAJAXRequest(\n                {\n                    action: 'spbc_update_account_email',\n                    accountEmail: accountEmail,\n                },\n                {\n                    timeout: 5000,\n                    callback: function(result, data, params, obj) {\n                        if (result.success !== undefined && result.success === 'ok') {\n                            if (result.manuallyLink !== undefined) {\n                                jQuery('#spbc-key-manually-link').attr('href', result.manuallyLink);\n                            }\n                        }\n\n                        if (result.error !== undefined) {\n                            jQuery('#spbc-account-email').css('border-color', 'red');\n                        }\n                    },\n                    errorOutput: function(msg) {\n                        spbcModal.loaded = msg;\n                        spbcModal.open();\n                    },\n                },\n            );\n\n            accountEmailField.attr('contenteditable', 'false');\n            $this.text($this.data('default-text'));\n        }\n    });\n});\n\n/**\n * @param {string} className\n */\nfunction spbcToggleClass(arr, className) {\n    for (let i=0; i<arr.length; i++) {\n        arr[i].classList.toggle(className);\n    }\n}\n"],"names":["spbc_switchTab","tab","params","let","tab_name","classList","replace","searchParams","URLSearchParams","window","location","search","hashParam","set","hash","newRelativePathQuery","pathname","toString","history","replaceState","get","jQuery","hide","removeClass","addClass","data","action","spbcHighlightElement","target","times","setTimeout","additional","click","security","spbcSettings","ajax_nonce","callback","spbc_draw_settings_callback","notJson","spbcSendAJAXRequest","result","obj","replaceWith","document","off","on","spbc_settings__show_description","self","this","attr","spbc_settings__show_recommendation","spbc_send_logs_callback","getElementById","substring","scrollIntoView","dispatchEvent","CustomEvent","bubbles","detail","getElementsByClassName","spbcSettingsDependenciesbyId","settingsIDs","enable","tmp","push","forEach","settingID","i","arr","elem","do_disable","setAttribute","do_enable","removeAttribute","getAttribute","spbcSettingsDependencies","settingNames","split","event","checked","settingName","getElementsByName","children","label","setting_id","remove_desc_func","e","parent","length","hasClass","remove","after","append","css","top","position","left","spinner","empty","title","desc","remove_recommendation_func","spbcStartShowHide","next","show","spbctGenerateConfirmationCode","res","success","ajax","type","async","url","ajaxurl","text","spbctCheckConfirmationCode","radioButton","timeout","timer","element","code","val","removeAttr","clearTimeout","dialog","alert","spbc_banner_check","bannerChecker","setInterval","close_renew_banner","clearInterval","spbcToggleClass","className","toggle","String","prototype","printf","formatted","arg","arguments","before_formatted","indexOf","after_formatted","ready","modal","my","at","of","width","height","draggable","resizable","closeText","preventDefault","enableResend","buttons","Cancel","Ok","key_changed","button","reload","msg","spbcModal","open","putError","getTemplates","loaded","addEventListener","optionSelected","console","log","template_id","template_name","settings","insertAfter","close","templateNameInput","templateName","find","$this","accountEmailField","accountEmail","focus","inputType","undefined","manuallyLink","error","errorOutput"],"mappings":"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"}