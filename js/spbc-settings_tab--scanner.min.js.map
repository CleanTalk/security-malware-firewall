{"version":3,"file":"spbc-settings_tab--scanner.min.js","sources":["spbc-settings_tab--scanner.js"],"sourcesContent":["function spbc_popup_tip___show(show_icon){\n\n\tvar tip_title = show_icon.attr('spbc_tip_title') || null;\n\tvar\ttip_text  = show_icon.attr('spbc_tip_text')  || null;\n\tvar remove_desc_func = function(e){\n\n\t\tif(\n\t\t\ttypeof e === 'undefined' ||\n\t\t\t(\n\t\t\t\t(jQuery(e.target).parent('.spbc_popup_tip--wrapper').length == 0 || jQuery(e.target).hasClass('spbc_popup_tip--icon---cancel')) &&\n\t\t\t\t!jQuery(e.target).hasClass('spbc_popup_tip--icon---show')\n\t\t\t)\n\t\t){\n\t\t\tjQuery('.spbc_popup_tip--wrapper').hide();\n\t\t\tjQuery(document).off('click', remove_desc_func);\n\t\t}\n\t};\n\n\tremove_desc_func();\n\n\tshow_icon.after(\"<div class='spbc_popup_tip--wrapper'></div>\");\n\n\tvar obj = jQuery('.spbc_popup_tip--wrapper');\n\n\tobj.empty()\n\t\t.append(\"<div class='spbc_popup_tip--angle'></div>\")\n\t\t.css({\n\t\t\ttop: show_icon.position().top - 2,\n\t\t\tleft: show_icon.position().left + 25\n\t\t});\n\tobj.append(\"<i class='spbc_popup_tip--icon---cancel icon-cancel'></i>\")\n\t\t.append(\"<h3 class='spbc_popup_tip--title'>\" + tip_title + \"</h3>\")\n\t\t.append(\"<p class='spbc_popup_tip--text'>\" + tip_text + \"</p>\");\n\n\tjQuery(document).on('click', remove_desc_func);\n\tshow_icon.parents('tr').on('mouseout', remove_desc_func);\n}\n\nfunction spbc_scanner_button_file_view_event(obj){\n\tvar self = jQuery(obj);\n\tvar data = {\n\t\taction: 'spbc_scanner_file_view',\n\t\tfile_id: self.parents('.row-actions').attr('uid'),\n\t};\n\tvar params = {\n\t\tspinner: self.parents('.row-actions').children('.tbl-preloader--tiny'),\n\t\tcallback: spbc_scannerButtonView_callback,\n\t};\n\tspbc_sendAJAXRequest(data, params);\n}\n\nfunction spbc_scanner_button_page_view_event(obj){\n\tvar self = jQuery(obj);\n\tvar data = {\n\t\taction: 'spbc_scanner_page_view',\n\t\tpage_url: self.parents('.row-actions').attr('uid'),\n\t};\n\tvar params = {\n\t\tspinner: self.parents('.row-actions').children('.tbl-preloader--tiny'),\n\t\tcallback: spbc_scannerButtonView_callback,\n\t};\n\tspbc_sendAJAXRequest(data, params);\n}\n\nfunction spbc_scannerButtonView_callback(result, data, params){\n\tconsole.log('FILE_VIEWED');\n\tvar row_template = '<div class=\"spbc_view_file_row_wrapper\"><span class=\"spbc_view_file_row_num\">%s</span><p class=\"spbc_view_file_row\">%s</p><br /></div>';\n\tjQuery('#spbc_dialog').empty();\n\tfor(row in result.file){\n\t\tjQuery('#spbc_dialog').append(row_template.printf(row, result.file[row]));\n\t}\n\t\n\tvar content_height = Object.keys(result.file).length * 19 + 19,\n\t\tvisible_height = (document.documentElement.clientHeight) / 100 * 75;\n\t\tcontent_height = content_height < 76 ? 76 : content_height;\n\tvar overflow = content_height < visible_height ? 'no_scroll' : 'scroll';\n\t\n\tjQuery('#spbc_dialog').data('overflow', overflow);\n\tjQuery('#spbc_dialog').dialog({\n\t\tmodal:true, \n\t\ttitle: result.file_path,\n\t\tposition: { my: \"center top\", at: \"center top+40px\" , of: window },\n\t\twidth: +(jQuery('#wpbody').width() / 100 * 70),\n\t\theight: overflow == 'scroll' ? visible_height : content_height,\n\t\tshow: { effect: \"blind\", duration: 500 },\n\t\tdraggable: false,\n\t\tresizable: false,\n\t\tcloseText: \"X\",\n\t\topen: function(event, ui) {\n\t\t\tconsole.log(jQuery(event.target).data('overflow'));\n\t\t\tdocument.body.style.overflow = 'hidden';\n\t\t\tif(jQuery(event.target).data('overflow') == 'scroll') event.target.style.overflow = 'scroll';\n\t\t},\n\t\tbeforeClose: function(event, ui) { document.body.style.overflow = 'auto'; },\n\t});\n}\n\nfunction spbc_scanner_button_file_view_bad_event(obj){\n\tvar self = jQuery(obj);\n\tvar data = {\n\t\taction: 'spbc_scanner_file_view',\n\t\tfile_id: self.parents('.row-actions').attr('uid'),\n\t};\n\tvar params = {\n\t\tspinner: self.parent().siblings('.tbl-preloader--tiny'),\n\t\tcallback: spbc_scannerButtonViewBad_callback,\n\t};\n\tspbc_sendAJAXRequest(data, params);\n}\n\nfunction spbc_scanner_button_page_view_bad_event(obj){\n\tvar self = jQuery(obj);\n\tvar data = {\n\t\taction: 'spbc_scanner_page_view',\n\t\tpage_url: self.parent().attr('uid'),\n\t};\n\tvar params = {\n\t\tspinner: self.parent().siblings('.tbl-preloader--tiny'),\n\t\tcallback: spbc_scannerButtonViewBad_callback,\n\t};\n\tspbc_sendAJAXRequest(data, params);\n}\n\nfunction spbc_scannerButtonViewBad_callback(result, data, params){\n\tconsole.log('FILE_VIEWED_BAD_CODE');\n\tconsole.log(arguments);\n//\tresult.weak_spots = JSON.parse(result.weak_spots);\n\tvar row_template     = '<div class=\"spbc_view_file_row_wrapper\"><span class=\"spbc_view_file_row_num\">%s</span><p class=\"spbc_view_file_row\">%s</p><br /></div>';\n\tvar row_template_bad = '<div class=\"spbc_view_file_row_wrapper\" style=\"background: rgba(200,40,40,0.8);\"><span class=\"spbc_view_file_row_num\">%s</span><p class=\"spbc_view_file_row\">%s</p><br /></div>';\n\tvar str_nums = [];\n\tjQuery('#spbc_dialog').empty();\n\tresult.weak_spots = JSON.parse(result.weak_spots);\n\tfor(var severity in result.weak_spots){\n\t\tstr_nums = str_nums.concat(Object.keys(result.weak_spots[severity]));\n\t}\n\tfor(str_num in str_nums){\n\t\tvar row = str_nums[str_num];\n\t\tif(typeof result.file[row] !== 'undefined'){\n\t\t\tjQuery('#spbc_dialog').append(row_template.    printf(row-2, result.file[row-2]));\n\t\t\tjQuery('#spbc_dialog').append(row_template.    printf(row-1, result.file[row-1]));\n\t\t\tjQuery('#spbc_dialog').append(row_template_bad.printf(row,   result.file[row]));\n\t\t\tjQuery('#spbc_dialog').append(row_template.    printf(+row+1, result.file[+row+1]));\n\t\t\tjQuery('#spbc_dialog').append(row_template.    printf(+row+2, result.file[+row+2]));\n\t\t\tjQuery('#spbc_dialog').append(row_template.    printf('', ''));\n\t\t}\n\t}\n\t \n\tvar content_height = jQuery('#spbc_dialog').length * 19 + 19,\n\t\tvisible_height = (document.documentElement.clientHeight) / 100 * 75;\n\t\tcontent_height = content_height < 76 ? 76 : content_height;\n\tvar overflow = content_height < visible_height ? 'no_scroll' : 'scroll';\n\t\n\tjQuery('#spbc_dialog').data('overflow', overflow);\n\tjQuery('#spbc_dialog').dialog({\n\t\tmodal:true, \n\t\ttitle: result.file_path,\n\t\tposition: { my: \"center top\", at: \"center\" , of: window },\n\t\twidth: +(jQuery('#wpbody').width() / 100 * 70),\n\t\t// height: \"overflow == 'scroll' ? visible_height : content_height\",\n\t\tshow: { effect: \"blind\", duration: 500 },\n\t\tdraggable: true,\n\t\tresizable: false,\n\t\tcloseText: \"X\",\n\t\topen: function(event, ui) {\n\t\t\tconsole.log(jQuery(event.target).data('overflow'));\n\t\t\tdocument.body.style.overflow = 'hidden';\n\t\t\tif(jQuery(event.target).data('overflow') == 'scroll') event.target.style.overflow = 'scroll';\n\t\t},\n\t\tbeforeClose: function(event, ui) { document.body.style.overflow = 'auto'; },\n\t});\n}\n\nfunction spbc_scanner_button_file_compare_event(obj){\n\tvar self = jQuery(obj);\n\tvar data = {\n\t\taction: 'spbc_scanner_file_compare',\n\t\tfile_id: self.parents('.row-actions').attr('uid'),\n\t};\n\tvar params = {\n\t\tspinner: self.parents('.row-actions').children('.tbl-preloader--tiny'),\n\t\tcallback: spbc_scannerButtonFileCompare_callback,\n\t};\n\tspbc_sendAJAXRequest(data, params);\n}\n\nfunction spbc_scannerButtonFileCompare_callback(result, data, params){\n\tconsole.log('FILE_COMPARED');\n\tvar row_template = '<div class=\"spbc_compare_file_row_wrapper\"><span class=\"spbc_compare_file_row_num\">%s</span><p class=\"spbc_compare_file_row\">%s</p><p class=\"spbc_compare_file_row\">%s</p><br /></div>';\n\tvar row_template_bad = '<div class=\"spbc_compare_file_row_wrapper\" style=\"background: rgba(200,40,40,0.8);\"><span class=\"spbc_compare_file_row_num\">%s</span><p class=\"spbc_compare_file_row\">%s</p><p class=\"spbc_compare_file_row\">%s</p><br /></div>';\n\tjQuery('#spbc_dialog').empty();\n\tfor(var row=1, prev = false, next = false; typeof result.file[row] != 'undefined' || typeof result.file_original[row] != 'undefined'; row++){\n\t\tif(typeof result.file[row] == 'undefined')          result.file[row] = '';\n\t\tif(typeof result.file_original[row] == 'undefined') result.file_original[row] = '';\n\t\tif(result.difference.indexOf(row) != -1){\n\t\t\tjQuery('#spbc_dialog').append(row_template.printf(row-2, result.file[row-2] ? result.file[row-2] : '', result.file_original[row-2] ? result.file_original[row-2] : ''));\n\t\t\tjQuery('#spbc_dialog').append(row_template.printf(row-1, result.file[row-1] ? result.file[row-1] : '', result.file_original[row-1] ? result.file_original[row-1] : ''));\n\t\t\tjQuery('#spbc_dialog').append(row_template_bad.printf(row,   result.file[row],   result.file_original[row]));\n\t\t\tjQuery('#spbc_dialog').append(row_template.printf(row+1, result.file[row+1] ? result.file[row+1] : '', result.file_original[row+1] ? result.file_original[row+1] : ''));\n\t\t\tjQuery('#spbc_dialog').append(row_template.printf(row+2, result.file[row+2] ? result.file[row+2] : '', result.file_original[row+2] ? result.file_original[row+2] : ''));\n\t\t}\n\t}\n\t\n\tvar content_height = jQuery('#spbc_dialog div').length * 19 + 19,\n\t\tvisible_height = (document.documentElement.clientHeight) / 100 * 75;\n\tvar overflow = content_height < visible_height ? 'no_scroll' : 'scroll';\n\t\n\tjQuery('#spbc_dialog').data('overflow', overflow);\n\tjQuery('#spbc_dialog').dialog({\n\t\tmodal:true, \n\t\ttitle: result.file_path,\n\t\tposition: { my: \"center top\", at: \"center top+40px\" , of: window },\n\t\twidth: 700, //+(jQuery('#wpbody').width() / 100 * 70),\n\t\theight: overflow == 'scroll' ? visible_height + 20 : content_height + 20,\n\t\tshow: { effect: \"blind\", duration: 500 },\n\t\tdraggable: true,\n\t\tresizable: false,\n\t\tcloseText: \"X\",\n\t\topen: function(event, ui) {\n\t\t\tconsole.log(jQuery(event.target).data('overflow'));\n\t\t\tdocument.body.style.overflow = 'hidden';\n\t\t\tif(jQuery(event.target).data('overflow') == 'scroll') event.target.style.overflow = 'scroll';\n\t\t},\n\t\tbeforeClose: function(event, ui) { document.body.style.overflow = 'auto'; }\n\t});\n}\n\njQuery(document).ready(function(){\n\n\t// EVENT HADLING\n\tspbc_tbl__bulk_actions__listen(); // Table. Row bulk handler\n\tspbc_tbl__row_actions__listen();  // Table. Row actions handler\n\tspbc_tbl__pagination__listen();   // Table. Pagination handler\n\tspbc_tbl__sort__listen();         // Table. Sort handler\n\t\n\tspbcStartShowHide();\n\n\t// Preparing progressbar\n\tjQuery('#spbc_scaner_progress_bar').progressbar({\n\t\tvalue: 0,\n\t\tcreate: function( event, ui ) {\n\t\t\tevent.target.style.position = 'relative';\n\t\t\tevent.target.style.marginBottom = '12px';\n\t\t},\n\t\tchange: function(event, ui){\n\t\t\tjQuery('.spbc_progressbar_counter span').text(jQuery(event.target).progressbar('option', 'value') + ' %');\n\t\t},\n\t});\n\t\n\t// Preparing accordion\n\tjQuery('#spbc_scan_accordion').accordion({\n\t\theader: \"h3\",\n\t\theightStyle: 'content',\n\t\tcollapsible: true,\n\t\tactive: false,\n\t\tactivate: function( event, ui ) {\n\t\t\tif( ui.oldPanel.length === 0 && ui.oldHeader.length === 0 )\n\t\t\t\tjQuery(\"#spbc_scan_accordion\").accordion(\"option\", \"classes.ui-accordion-content\", \"ui-corner-bottom spbc-overflow--visible\");\n\t\t},\n\t\tbeforeActivate: function( event, ui ) {\n\t\t\tif( ui.oldPanel.length === 1 && ui.oldHeader.length === 1 )\n\t\t\t\tjQuery(\"#spbc_scan_accordion\").accordion(\"option\", \"classes.ui-accordion-content\", \"ui-corner-bottom\");\n\t\t}\n\t});\n\n\t// Init scanner plugin\n\twindow.spbc_scanner = new spbcMalwareScanner({\n\t\tsettings: spbcScaner.settings,\n\t\tstates: spbcScaner.states,\n\t\tbutton: jQuery('#spbc_perform_scan'),\n\t\tspinner: jQuery('#spbc_perform_scan').next(),\n\t\tcallback: null,\n\t\tprogress_overall: jQuery('#spbc_scaner_progress_overall'),\n\t\tprogressbar: jQuery('#spbc_scaner_progress_bar'),\n\t\tprogressbar_text: jQuery('.spbc_progressbar_counter span'),\n\t\twrapper: document.getElementsByClassName('spbc_unchecked_file_list'),\n\t\twarnings: {\n\t\t    long_scan: jQuery('.spbc_hint_warning__long_scan'),\n            outdated:  jQuery('.spbc_hint_warning__outdated')\n        }\n\t});\n\n\tjQuery(document).on('click', '.spbc_popup_tip--icon---show', function(){\n\t\tspbc_popup_tip___show( jQuery( this ) );\n\t});\n\n\tjQuery('#spbc_perform_scan').on('click', function(){\n\t\tspbc_scanner.actionControl();\n\t});\n\n\t//DEBUG\n\t\t// Clear table\n\t\tjQuery('#spbc_scanner_clear').on('click', function(){\n\t\t\tjQuery.spbc.scanner.clear();\n\t\t});\n\t\n});"],"names":["spbc_popup_tip___show","show_icon","tip_title","attr","tip_text","remove_desc_func","e","jQuery","target","parent","length","hasClass","hide","document","off","after","obj","empty","append","css","top","position","left","on","parents","spbc_scanner_button_file_view_event","self","data","action","file_id","params","spinner","children","callback","spbc_scannerButtonView_callback","spbc_sendAJAXRequest","spbc_scanner_button_page_view_event","page_url","result","console","log","row","file","printf","content_height","Object","keys","visible_height","documentElement","overflow","dialog","modal","title","file_path","my","at","of","window","width","height","show","effect","duration","draggable","resizable","closeText","open","event","ui","body","style","beforeClose","spbc_scanner_button_file_view_bad_event","siblings","spbc_scannerButtonViewBad_callback","spbc_scanner_button_page_view_bad_event","arguments","severity","row_template","str_nums","weak_spots","JSON","parse","concat","str_num","spbc_scanner_button_file_compare_event","spbc_scannerButtonFileCompare_callback","file_original","difference","indexOf","ready","spbc_tbl__bulk_actions__listen","spbc_tbl__row_actions__listen","spbc_tbl__pagination__listen","spbc_tbl__sort__listen","spbcStartShowHide","progressbar","value","create","marginBottom","change","text","accordion","header","heightStyle","collapsible","active","activate","oldPanel","oldHeader","beforeActivate","spbc_scanner","spbcMalwareScanner","settings","spbcScaner","states","button","next","progress_overall","progressbar_text","wrapper","getElementsByClassName","warnings","long_scan","outdated","this","actionControl","spbc","scanner","clear"],"mappings":"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"}