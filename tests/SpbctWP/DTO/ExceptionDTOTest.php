<?php

use PHPUnit\Framework\TestCase;
use CleantalkSP\SpbctWP\DTO;

class ExceptionDTOTest extends TestCase
{

    public function setUp()
    {
        global $incorrect_arrays;
        $incorrect_arrays = array(
            array(
                'path_to_sfile' => '',
                'attached_sfile' => '',
                'md5sum_sfile' => '',
                'dangerous_code' => '',
                'version' => 'version',
                'source' => 'source',
                'source_type' => 'source_type',
                'source_status' => 'source_status',
                'real_hash' => 'real_hash',
            ),
            array(
                'path_to_sfile' => null,
            ),
            array(
                'path_to_sfile' => 'path_to_sfile',
                'lkj' => 'attached_sfile',
                'jo0' => 'md5sum_sfile',
                '0jkjn' => 'dangerous_code',
            ),
        );

    }

    public function testFailCreateDTO(){
        $this->expectException(InvalidArgumentException::class);
        global $incorrect_arrays;
        foreach ($incorrect_arrays as $array){
            $dto = new DTO\MScanFilesDTO($array);
        }
    }
}
